@model IMS_Project.Models.Customer

@{
    ViewBag.Title = "Customer";
    ViewBag.SubTitle = "Delete";
}

<h3>Are you sure you want to delete this?</h3>
<hr />
<div class="row">
    <div class="col-md-8">
        <dl class="dl-horizontal ">
            <dt>
                @Html.DisplayNameFor(model => model.First_Name)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.First_Name)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Last_Name)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Last_Name)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.UserName)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.UserName)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Password)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Password)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Age)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Age)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Gender)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Gender)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.DateofBirth)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.DateofBirth)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Organization)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Organization)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Country)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Country)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.State)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.State)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.City)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.City)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.PostalCode)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.PostalCode)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Email)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Email)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.AltEmail)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.AltEmail)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Phone1)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Phone1)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Phone2)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Phone2)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Mobile1)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Mobile1)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Mobile2)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Mobile2)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Address1)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Address1)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Address2)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Address2)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Picture)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Picture)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.status)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.status)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.LastLogin)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.LastLogin)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Created)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Created)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.InActive)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.InActive)
            </dd>

        </dl>
    </div>
    <div class="col-md-4">
        <div>
            <img src="~/Content/Images/ProfileImage.svg" alt="" class="img-thumbnail" width="160" height="160" />
        </div>
    </div>
</div>

@using (Html.BeginForm("Delete", "Customer", new { id = @Model.CustomerID }, FormMethod.Post))
{
    @Html.AntiForgeryToken()

    <div class="form-actions no-color">
        @Html.ActionLink("Back to List", "Index", null, new { @class = "" })
        @*<input type="submit" value="Delete" class="btn btn-danger col-md-offset-1" onclick="deleteCustomer(event)" />*@
        <input type="button" value="Delete" class="btn btn-danger col-md-offset-1" onclick="setInActive(event)" />

    </div>
}

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>


<script>
    function setInActive(event) {
        event.preventDefault(); // Prevent form submission

        try {
            if (confirm('Are you sure you want to set this Customer as InActive?')) {
                // Perform AJAX request or form submission to set the product as InActive
                $.ajax({
                    url: '/Customer/SetInActive/@Model.CustomerID',
                    type: 'POST',
                    data: {},
                    success: function (response) {
                        // Handle success, e.g., refresh the page or update UI
                        window.location.reload();
                    },
                    error: function (xhr, status, error) {
                        throw new Error(error); // Throw an exception if an error occurs
                    }
                });
            }
        } catch (error) {
            alert('Error: ' + error); // Show error message in an alert box
        }
    }
    function deleteCustomer(event) {
        event.preventDefault(); // Prevent form submission

        try {
            if (confirm('Are you sure you want to delete this?')) {
                // Perform AJAX request or form submission to delete the customer
                $.ajax({
                    url: '/Customer/Delete/@Model.CustomerID',
                    type: 'POST',
                    data: {},
                    success: function (response) {
                        // Handle success, e.g., redirect to the list page
                        window.location.href = '/Customer/Index';
                    },
                    error: function (xhr, status, error) {
                        throw new Error(error); // Throw an exception if an error occurs
                    }
                });
            }
        } catch (error) {
            alert('Error: ' + error); // Show error message in an alert box
        }
    }
</script>
