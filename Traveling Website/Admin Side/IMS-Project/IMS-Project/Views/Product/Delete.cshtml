@model IMS_Project.Models.Product

@{
    ViewBag.Title = "Product";
    ViewBag.SubTitle = "Delete";
}

<h3>Are you sure you want to delete this?</h3>
<hr />
<div class="row">
    <div class="col-md-8">
        <dl class="dl-horizontal ">
            <dt>
                @Html.DisplayNameFor(model => model.Name)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Name)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.InActive)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.InActive)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.QuantityPerUnit)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.QuantityPerUnit)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.UnitPrice)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.UnitPrice)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.OldPrice)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.OldPrice)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.UnitWeight)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.UnitWeight)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Size)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Size)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Discount)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Discount)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.UnitInStock)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.UnitInStock)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.UnitOnOrder)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.UnitOnOrder)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.ProductAvailable)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.ProductAvailable)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.ImageURL)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.ImageURL)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.AltText)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.AltText)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.AddBadge)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.AddBadge)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.OfferTitle)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.OfferTitle)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.OfferBadgeClass)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.OfferBadgeClass)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.ShortDescription)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.ShortDescription)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.LongDescription)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.LongDescription)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Picture1)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Picture1)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Picture2)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Picture2)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Picture3)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Picture3)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Picture4)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Picture4)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Note)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Note)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Category.Name)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Category.Name)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.SubCategory.Name)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.SubCategory.Name)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Supplier.CompanyName)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Supplier.CompanyName)
            </dd>


        </dl>
    </div>
    <div class="col-md-4">
        <div>
            <img src="~/Content/Images/ProfileImage.svg" alt="" class="img-thumbnail" width="160" height="160" />
        </div>
    </div>
</div>

@using (Html.BeginForm("Delete", "Product", new { id = @Model.ProductID }, FormMethod.Post))
{
    @Html.AntiForgeryToken()

    <div class="form-actions no-color">
        @Html.ActionLink("Back to List", "Index", null, new { @class = "" })
        @*<input type="submit" value="Delete" class="btn btn-danger col-md-offset-1" onclick="deleteProduct(event)" />*@
        <input type="button" value="Delete" class="btn btn-danger col-md-offset-1" onclick="setInActive(event)" />

    </div>
}
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script>
    function setInActive(event) {
        event.preventDefault(); // Prevent form submission

        try {
            if (confirm('Are you sure you want to set this product as InActive?')) {
                // Perform AJAX request or form submission to set the product as InActive
                $.ajax({
                    url: '/Product/SetInActive/@Model.ProductID',
                    type: 'POST',
                    data: {},
                    success: function (response) {
                        // Handle success, e.g., refresh the page or update UI
                        window.location.reload();
                    },
                    error: function (xhr, status, error) {
                        throw new Error(error); // Throw an exception if an error occurs
                    }
                });
            }
        } catch (error) {
            alert('Error: ' + error); // Show error message in an alert box
        }
    }
    function deleteProduct(event) {
        event.preventDefault(); // Prevent form submission

        try {
            if (confirm('Are you sure you want to delete this?')) {
                // Perform AJAX request or form submission to delete the product
                $.ajax({
                    url: '/Product/Delete/@Model.ProductID',
                    type: 'POST',
                    data: {},
                    success: function (response) {
                        // Handle success, e.g., redirect to the list page
                        window.location.href = '/Product/Index';
                    },
                    error: function (xhr, status, error) {
                        throw new Error(error); // Throw an exception if an error occurs
                    }
                });
            }
        } catch (error) {
            alert('Error: ' + error); // Show error message in an alert box
        }
    }
</script>
